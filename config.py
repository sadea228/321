import logging
import os

# ะะฐัััะพะนะบะฐ ะปะพะณะธัะพะฒะฐะฝะธั
logging.basicConfig(
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s", level=logging.DEBUG
)
logger = logging.getLogger(__name__)

# --- ะะพะฝััะฐะฝัั ะธ ัะตะผั ---
DEFAULT_THEME_KEY = "classic"
EMPTY_CELL_SYMBOL = "empty" # ะะฝัััะตะฝะฝะธะน ะบะปัั ะดะปั ะฟัััะพะน ะบะปะตัะบะธ ะฒ ัะตะผะต

THEMES = {
    "classic": {
        "name": "ะะปะฐััะธะบะฐ",
        "X": "โ",
        "O": "โญ",
        EMPTY_CELL_SYMBOL: "โฌ",
        "X_win": "โญโโญ",
        "O_win": "โญโญโญ"
    },
    "animals": {
        "name": "ะะธะฒะพัะฝัะต",
        "X": "๐ฑ",
        "O": "๐ถ",
        EMPTY_CELL_SYMBOL: "๐พ",
        "X_win": "๐๐ฑ๐",
        "O_win": "๐๐ถ๐"
    },
    "food": {
        "name": "ะะดะฐ",
        "X": "๐",
        "O": "๐",
        EMPTY_CELL_SYMBOL: "โซ๏ธ",
        "X_win": "๐๐๐",
        "O_win": "๐๐๐"
    },
    "space": {
        "name": "ะะพัะผะพั",
        "X": "๐",
        "O": "๐ธ",
        EMPTY_CELL_SYMBOL: "๐",
        "X_win": "๐๐๐",
        "O_win": "๐๐ธ๐"
    },
    "sports": {
        "name": "ะกะฟะพัั",
        "X": "๐พ",
        "O": "โฝ",
        EMPTY_CELL_SYMBOL: "๐๏ธ",
        "X_win": "๐๐พ๐",
        "O_win": "๐โฝ๐"
    }
    # ะะพะฑะฐะฒััะต ััะดะฐ ะดััะณะธะต ัะตะผั ะฟัะธ ะถะตะปะฐะฝะธะธ
}

# --- ะะฐัััะพะนะบะธ ะดะปั ะฒะตะฑััะบะฐ ---
# ะะพะปััะฐะตะผ ัะพะบะตะฝ ะธะท ะฟะตัะตะผะตะฝะฝะพะน ะพะบััะถะตะฝะธั
TOKEN = os.getenv("TOKEN")
if not TOKEN:
    logger.error("ะะตะพะฑัะพะดะธะผะพ ัััะฐะฝะพะฒะธัั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั TOKEN!")
    # ะ ัะตะฐะปัะฝะพะผ ะฟัะธะปะพะถะตะฝะธะธ ะทะดะตัั ะปัััะต ะฒัะฑัะพัะธัั ะธัะบะปััะตะฝะธะต ะธะปะธ ะธัะฟะพะปัะทะพะฒะฐัั ะทะฝะฐัะตะฝะธะต ะฟะพ ัะผะพะปัะฐะฝะธั ะดะปั ัะตััะพะฒ
    # exit(1) # ะะต ะฑัะดะตะผ ะฟัะตััะฒะฐัั ะฒัะฟะพะปะฝะตะฝะธะต ะทะดะตัั, ะฟัััั ััะพ ะฟัะพะธะทะพะนะดะตั ะฒ bot.py ะฟัะธ ะธะฝะธัะธะฐะปะธะทะฐัะธะธ

# URL ะดะปั ะฒะตะฑััะบะฐ (Render ะฟัะตะดะพััะฐะฒะปัะตั RENDER_EXTERNAL_URL)
WEBHOOK_URL = os.getenv("RENDER_EXTERNAL_URL")
# ะะพะบะฐะปัะฝัะน URL ะดะปั ัะตััะธัะพะฒะฐะฝะธั (ะตัะปะธ RENDER_EXTERNAL_URL ะฝะต ะทะฐะดะฐะฝ)
if not WEBHOOK_URL:
   logger.warning("RENDER_EXTERNAL_URL ะฝะต ัััะฐะฝะพะฒะปะตะฝะฐ. ะัะฟะพะปัะทัะตััั ะทะฐะณะปััะบะฐ ะดะปั ะปะพะบะฐะปัะฝะพะณะพ ัะตััะฐ. ะฃััะฐะฝะพะฒะธัะต WEBHOOK_URL ะฒัััะฝัั ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ.")
   WEBHOOK_URL = "https://your-temporary-render-url" # ะะฐะผะตะฝะธัะต ัะตะฐะปัะฝัะผ URL ะธะปะธ ะพััะฐะฒััะต ะทะฐะณะปััะบั

# ะะพัั ะดะปั ะฒะตะฑ-ัะตัะฒะตัะฐ (Render ะฟัะตะดะพััะฐะฒะปัะตั PORT)
PORT = int(os.getenv("PORT", "8080"))

# ะััั ะดะปั ะฒะตะฑััะบะฐ (ะดะพะปะถะตะฝ ัะพะฒะฟะฐะดะฐัั ะฒ set_webhook ะธ ะฒ endpoint)
WEBHOOK_PATH = "/webhook"
# ะะพะปะฝัะน URL ะดะปั ัััะฐะฝะพะฒะบะธ ะฒะตะฑััะบะฐ (ัะพัะผะธััะตััั ะทะดะตัั ะดะปั ััะฝะพััะธ)
WEBHOOK_ENDPOINT_URL = f"{WEBHOOK_URL}{WEBHOOK_PATH}" if WEBHOOK_URL else None

# ะขะฐะนะผะฐัั ะพะถะธะดะฐะฝะธั ะฒัะพัะพะณะพ ะธะณัะพะบะฐ
GAME_TIMEOUT_SECONDS = 90 